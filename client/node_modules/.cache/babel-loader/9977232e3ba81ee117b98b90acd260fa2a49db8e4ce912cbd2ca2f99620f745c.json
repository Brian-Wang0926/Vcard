{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport { PluginComponent } from './Plugin';\nvar AutoResize = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(AutoResize, _PluginComponent);\n  function AutoResize(props) {\n    var _this;\n    _this = _PluginComponent.call(this, props) || this;\n    _this.timer = null;\n    _this.useTimer = _this.getConfig('useTimer') || typeof requestAnimationFrame === 'undefined';\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.doResize = _this.doResize.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = AutoResize.prototype;\n  _proto.doResize = function doResize() {\n    var _this2 = this;\n    var resizeElement = function resizeElement(e) {\n      e.style.height = 'auto';\n      var height = Math.min(Math.max(_this2.getConfig('min'), e.scrollHeight), _this2.getConfig('max'));\n      e.style.height = height + \"px\";\n      return height;\n    };\n    this.timer = null; // 如果渲染了编辑器，就以编辑器为准\n\n    var view = this.editor.getView();\n    var el = this.editor.getMdElement();\n    var previewer = this.editor.getHtmlElement();\n    if (el && view.md) {\n      var height = resizeElement(el);\n      if (previewer) {\n        previewer.style.height = height + \"px\";\n      }\n      return;\n    } // 否则，以预览区域为准\n\n    if (previewer && view.html) {\n      resizeElement(previewer);\n    }\n  };\n  _proto.handleChange = function handleChange() {\n    if (this.timer !== null) {\n      return;\n    }\n    if (this.useTimer) {\n      this.timer = window.setTimeout(this.doResize);\n      return;\n    }\n    this.timer = requestAnimationFrame(this.doResize);\n  };\n  _proto.componentDidMount = function componentDidMount() {\n    this.editor.on('change', this.handleChange);\n    this.editor.on('viewchange', this.handleChange);\n    this.handleChange();\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.off('change', this.handleChange);\n    this.editor.off('viewchange', this.handleChange);\n    if (this.timer !== null && this.useTimer) {\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  };\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"span\", null);\n  };\n  return AutoResize;\n}(PluginComponent);\nAutoResize.pluginName = 'auto-resize';\nAutoResize.align = 'left';\nAutoResize.defaultConfig = {\n  min: 200,\n  max: Infinity,\n  useTimer: false\n};\nexport { AutoResize as default };","map":{"version":3,"names":["_assertThisInitialized","_inheritsLoose","React","PluginComponent","AutoResize","_PluginComponent","props","_this","call","timer","useTimer","getConfig","requestAnimationFrame","handleChange","bind","doResize","_proto","prototype","_this2","resizeElement","e","style","height","Math","min","max","scrollHeight","view","editor","getView","el","getMdElement","previewer","getHtmlElement","md","html","window","setTimeout","componentDidMount","on","componentWillUnmount","off","clearTimeout","render","createElement","pluginName","align","defaultConfig","Infinity","default"],"sources":["/Users/wangbaiyuan/Documents/Wehelp/Part3/Vcard/client/node_modules/react-markdown-editor-lite/esm/plugins/autoResize.js"],"sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport { PluginComponent } from './Plugin';\n\nvar AutoResize = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(AutoResize, _PluginComponent);\n\n  function AutoResize(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.timer = null;\n    _this.useTimer = _this.getConfig('useTimer') || typeof requestAnimationFrame === 'undefined';\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.doResize = _this.doResize.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = AutoResize.prototype;\n\n  _proto.doResize = function doResize() {\n    var _this2 = this;\n\n    var resizeElement = function resizeElement(e) {\n      e.style.height = 'auto';\n      var height = Math.min(Math.max(_this2.getConfig('min'), e.scrollHeight), _this2.getConfig('max'));\n      e.style.height = height + \"px\";\n      return height;\n    };\n\n    this.timer = null; // 如果渲染了编辑器，就以编辑器为准\n\n    var view = this.editor.getView();\n    var el = this.editor.getMdElement();\n    var previewer = this.editor.getHtmlElement();\n\n    if (el && view.md) {\n      var height = resizeElement(el);\n\n      if (previewer) {\n        previewer.style.height = height + \"px\";\n      }\n\n      return;\n    } // 否则，以预览区域为准\n\n\n    if (previewer && view.html) {\n      resizeElement(previewer);\n    }\n  };\n\n  _proto.handleChange = function handleChange() {\n    if (this.timer !== null) {\n      return;\n    }\n\n    if (this.useTimer) {\n      this.timer = window.setTimeout(this.doResize);\n      return;\n    }\n\n    this.timer = requestAnimationFrame(this.doResize);\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.editor.on('change', this.handleChange);\n    this.editor.on('viewchange', this.handleChange);\n    this.handleChange();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.off('change', this.handleChange);\n    this.editor.off('viewchange', this.handleChange);\n\n    if (this.timer !== null && this.useTimer) {\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"span\", null);\n  };\n\n  return AutoResize;\n}(PluginComponent);\n\nAutoResize.pluginName = 'auto-resize';\nAutoResize.align = 'left';\nAutoResize.defaultConfig = {\n  min: 200,\n  max: Infinity,\n  useTimer: false\n};\nexport { AutoResize as default };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}