{"ast":null,"code":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Because sometimes you need to mark the selected *text*.\n//\n// Adds an option 'styleSelectedText' which, when enabled, gives\n// selected text the CSS class given as option value, or\n// \"CodeMirror-selectedtext\" when the value is not a string.\n\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\")\n    // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd)\n    // AMD\n    define([\"../../lib/codemirror\"], mod);else\n    // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"styleSelectedText\", false, function (cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.state.markedSelection = [];\n      cm.state.markedSelectionStyle = typeof val == \"string\" ? val : \"CodeMirror-selectedtext\";\n      reset(cm);\n      cm.on(\"cursorActivity\", onCursorActivity);\n      cm.on(\"change\", onChange);\n    } else if (!val && prev) {\n      cm.off(\"cursorActivity\", onCursorActivity);\n      cm.off(\"change\", onChange);\n      clear(cm);\n      cm.state.markedSelection = cm.state.markedSelectionStyle = null;\n    }\n  });\n  function onCursorActivity(cm) {\n    if (cm.state.markedSelection) cm.operation(function () {\n      update(cm);\n    });\n  }\n  function onChange(cm) {\n    if (cm.state.markedSelection && cm.state.markedSelection.length) cm.operation(function () {\n      clear(cm);\n    });\n  }\n  var CHUNK_SIZE = 8;\n  var Pos = CodeMirror.Pos;\n  var cmp = CodeMirror.cmpPos;\n  function coverRange(cm, from, to, addAt) {\n    if (cmp(from, to) == 0) return;\n    var array = cm.state.markedSelection;\n    var cls = cm.state.markedSelectionStyle;\n    for (var line = from.line;;) {\n      var start = line == from.line ? from : Pos(line, 0);\n      var endLine = line + CHUNK_SIZE,\n        atEnd = endLine >= to.line;\n      var end = atEnd ? to : Pos(endLine, 0);\n      var mark = cm.markText(start, end, {\n        className: cls\n      });\n      if (addAt == null) array.push(mark);else array.splice(addAt++, 0, mark);\n      if (atEnd) break;\n      line = endLine;\n    }\n  }\n  function clear(cm) {\n    var array = cm.state.markedSelection;\n    for (var i = 0; i < array.length; ++i) array[i].clear();\n    array.length = 0;\n  }\n  function reset(cm) {\n    clear(cm);\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) coverRange(cm, ranges[i].from(), ranges[i].to());\n  }\n  function update(cm) {\n    if (!cm.somethingSelected()) return clear(cm);\n    if (cm.listSelections().length > 1) return reset(cm);\n    var from = cm.getCursor(\"start\"),\n      to = cm.getCursor(\"end\");\n    var array = cm.state.markedSelection;\n    if (!array.length) return coverRange(cm, from, to);\n    var coverStart = array[0].find(),\n      coverEnd = array[array.length - 1].find();\n    if (!coverStart || !coverEnd || to.line - from.line <= CHUNK_SIZE || cmp(from, coverEnd.to) >= 0 || cmp(to, coverStart.from) <= 0) return reset(cm);\n    while (cmp(from, coverStart.from) > 0) {\n      array.shift().clear();\n      coverStart = array[0].find();\n    }\n    if (cmp(from, coverStart.from) < 0) {\n      if (coverStart.to.line - from.line < CHUNK_SIZE) {\n        array.shift().clear();\n        coverRange(cm, from, coverStart.to, 0);\n      } else {\n        coverRange(cm, from, coverStart.from, 0);\n      }\n    }\n    while (cmp(to, coverEnd.to) < 0) {\n      array.pop().clear();\n      coverEnd = array[array.length - 1].find();\n    }\n    if (cmp(to, coverEnd.to) > 0) {\n      if (to.line - coverEnd.from.line < CHUNK_SIZE) {\n        array.pop().clear();\n        coverRange(cm, coverEnd.from, to);\n      } else {\n        coverRange(cm, coverEnd.to, to);\n      }\n    }\n  }\n});","map":{"version":3,"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","prev","Init","state","markedSelection","markedSelectionStyle","reset","on","onCursorActivity","onChange","off","clear","operation","update","length","CHUNK_SIZE","Pos","cmp","cmpPos","coverRange","from","to","addAt","array","cls","line","start","endLine","atEnd","end","mark","markText","className","push","splice","i","ranges","listSelections","somethingSelected","getCursor","coverStart","find","coverEnd","shift","pop"],"sources":["/Users/wangbaiyuan/Documents/Wehelp/Part3/Vcard/client/node_modules/codemirror/addon/selection/mark-selection.js"],"sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Because sometimes you need to mark the selected *text*.\n//\n// Adds an option 'styleSelectedText' which, when enabled, gives\n// selected text the CSS class given as option value, or\n// \"CodeMirror-selectedtext\" when the value is not a string.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"styleSelectedText\", false, function(cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n    if (val && !prev) {\n      cm.state.markedSelection = [];\n      cm.state.markedSelectionStyle = typeof val == \"string\" ? val : \"CodeMirror-selectedtext\";\n      reset(cm);\n      cm.on(\"cursorActivity\", onCursorActivity);\n      cm.on(\"change\", onChange);\n    } else if (!val && prev) {\n      cm.off(\"cursorActivity\", onCursorActivity);\n      cm.off(\"change\", onChange);\n      clear(cm);\n      cm.state.markedSelection = cm.state.markedSelectionStyle = null;\n    }\n  });\n\n  function onCursorActivity(cm) {\n    if (cm.state.markedSelection)\n      cm.operation(function() { update(cm); });\n  }\n\n  function onChange(cm) {\n    if (cm.state.markedSelection && cm.state.markedSelection.length)\n      cm.operation(function() { clear(cm); });\n  }\n\n  var CHUNK_SIZE = 8;\n  var Pos = CodeMirror.Pos;\n  var cmp = CodeMirror.cmpPos;\n\n  function coverRange(cm, from, to, addAt) {\n    if (cmp(from, to) == 0) return;\n    var array = cm.state.markedSelection;\n    var cls = cm.state.markedSelectionStyle;\n    for (var line = from.line;;) {\n      var start = line == from.line ? from : Pos(line, 0);\n      var endLine = line + CHUNK_SIZE, atEnd = endLine >= to.line;\n      var end = atEnd ? to : Pos(endLine, 0);\n      var mark = cm.markText(start, end, {className: cls});\n      if (addAt == null) array.push(mark);\n      else array.splice(addAt++, 0, mark);\n      if (atEnd) break;\n      line = endLine;\n    }\n  }\n\n  function clear(cm) {\n    var array = cm.state.markedSelection;\n    for (var i = 0; i < array.length; ++i) array[i].clear();\n    array.length = 0;\n  }\n\n  function reset(cm) {\n    clear(cm);\n    var ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++)\n      coverRange(cm, ranges[i].from(), ranges[i].to());\n  }\n\n  function update(cm) {\n    if (!cm.somethingSelected()) return clear(cm);\n    if (cm.listSelections().length > 1) return reset(cm);\n\n    var from = cm.getCursor(\"start\"), to = cm.getCursor(\"end\");\n\n    var array = cm.state.markedSelection;\n    if (!array.length) return coverRange(cm, from, to);\n\n    var coverStart = array[0].find(), coverEnd = array[array.length - 1].find();\n    if (!coverStart || !coverEnd || to.line - from.line <= CHUNK_SIZE ||\n        cmp(from, coverEnd.to) >= 0 || cmp(to, coverStart.from) <= 0)\n      return reset(cm);\n\n    while (cmp(from, coverStart.from) > 0) {\n      array.shift().clear();\n      coverStart = array[0].find();\n    }\n    if (cmp(from, coverStart.from) < 0) {\n      if (coverStart.to.line - from.line < CHUNK_SIZE) {\n        array.shift().clear();\n        coverRange(cm, from, coverStart.to, 0);\n      } else {\n        coverRange(cm, from, coverStart.from, 0);\n      }\n    }\n\n    while (cmp(to, coverEnd.to) < 0) {\n      array.pop().clear();\n      coverEnd = array[array.length - 1].find();\n    }\n    if (cmp(to, coverEnd.to) > 0) {\n      if (to.line - coverEnd.from.line < CHUNK_SIZE) {\n        array.pop().clear();\n        coverRange(cm, coverEnd.from, to);\n      } else {\n        coverRange(cm, coverEnd.to, to);\n      }\n    }\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}