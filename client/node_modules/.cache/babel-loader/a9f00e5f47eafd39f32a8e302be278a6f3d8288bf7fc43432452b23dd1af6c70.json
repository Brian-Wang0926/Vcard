{"ast":null,"code":"import { v4 as uuid } from 'uuid';\nimport getDecorated from './decorate';\nimport { isPromise } from './tool';\nfunction getUploadPlaceholder(file, onImageUpload) {\n  var placeholder = getDecorated('', 'image', {\n    target: \"Uploading_\" + uuid(),\n    imageUrl: ''\n  }).text;\n  var uploaded = new Promise(function (resolve) {\n    var isCallback = true;\n    var handleUploaded = function handleUploaded(url) {\n      if (isCallback) {\n        console.warn('Deprecated: onImageUpload should return a Promise, callback will be removed in future');\n      }\n      resolve(getDecorated('', 'image', {\n        target: file.name,\n        imageUrl: url\n      }).text);\n    }; // 兼容回调和Promise\n\n    var upload = onImageUpload(file, handleUploaded);\n    if (isPromise(upload)) {\n      isCallback = false;\n      upload.then(handleUploaded);\n    }\n  });\n  return {\n    placeholder: placeholder,\n    uploaded: uploaded\n  };\n}\nexport default getUploadPlaceholder;","map":{"version":3,"names":["v4","uuid","getDecorated","isPromise","getUploadPlaceholder","file","onImageUpload","placeholder","target","imageUrl","text","uploaded","Promise","resolve","isCallback","handleUploaded","url","console","warn","name","upload","then"],"sources":["/Users/wangbaiyuan/Documents/Wehelp/Part3/Vcard/client/node_modules/react-markdown-editor-lite/esm/utils/uploadPlaceholder.js"],"sourcesContent":["import { v4 as uuid } from 'uuid';\nimport getDecorated from './decorate';\nimport { isPromise } from './tool';\n\nfunction getUploadPlaceholder(file, onImageUpload) {\n  var placeholder = getDecorated('', 'image', {\n    target: \"Uploading_\" + uuid(),\n    imageUrl: ''\n  }).text;\n  var uploaded = new Promise(function (resolve) {\n    var isCallback = true;\n\n    var handleUploaded = function handleUploaded(url) {\n      if (isCallback) {\n        console.warn('Deprecated: onImageUpload should return a Promise, callback will be removed in future');\n      }\n\n      resolve(getDecorated('', 'image', {\n        target: file.name,\n        imageUrl: url\n      }).text);\n    }; // 兼容回调和Promise\n\n\n    var upload = onImageUpload(file, handleUploaded);\n\n    if (isPromise(upload)) {\n      isCallback = false;\n      upload.then(handleUploaded);\n    }\n  });\n  return {\n    placeholder: placeholder,\n    uploaded: uploaded\n  };\n}\n\nexport default getUploadPlaceholder;"],"mappings":"AAAA,SAASA,EAAE,IAAIC,IAAI,QAAQ,MAAM;AACjC,OAAOC,YAAY,MAAM,YAAY;AACrC,SAASC,SAAS,QAAQ,QAAQ;AAElC,SAASC,oBAAoBA,CAACC,IAAI,EAAEC,aAAa,EAAE;EACjD,IAAIC,WAAW,GAAGL,YAAY,CAAC,EAAE,EAAE,OAAO,EAAE;IAC1CM,MAAM,EAAE,YAAY,GAAGP,IAAI,CAAC,CAAC;IAC7BQ,QAAQ,EAAE;EACZ,CAAC,CAAC,CAACC,IAAI;EACP,IAAIC,QAAQ,GAAG,IAAIC,OAAO,CAAC,UAAUC,OAAO,EAAE;IAC5C,IAAIC,UAAU,GAAG,IAAI;IAErB,IAAIC,cAAc,GAAG,SAASA,cAAcA,CAACC,GAAG,EAAE;MAChD,IAAIF,UAAU,EAAE;QACdG,OAAO,CAACC,IAAI,CAAC,uFAAuF,CAAC;MACvG;MAEAL,OAAO,CAACX,YAAY,CAAC,EAAE,EAAE,OAAO,EAAE;QAChCM,MAAM,EAAEH,IAAI,CAACc,IAAI;QACjBV,QAAQ,EAAEO;MACZ,CAAC,CAAC,CAACN,IAAI,CAAC;IACV,CAAC,CAAC,CAAC;;IAGH,IAAIU,MAAM,GAAGd,aAAa,CAACD,IAAI,EAAEU,cAAc,CAAC;IAEhD,IAAIZ,SAAS,CAACiB,MAAM,CAAC,EAAE;MACrBN,UAAU,GAAG,KAAK;MAClBM,MAAM,CAACC,IAAI,CAACN,cAAc,CAAC;IAC7B;EACF,CAAC,CAAC;EACF,OAAO;IACLR,WAAW,EAAEA,WAAW;IACxBI,QAAQ,EAAEA;EACZ,CAAC;AACH;AAEA,eAAeP,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}