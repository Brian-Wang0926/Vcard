{"ast":null,"code":"var _jsxFileName = \"/Users/wangbaiyuan/Documents/Wehelp/Part3/Vcard/client/src/components/login-success-component.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginSuccessComponent = () => {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const hash = window.location.hash.substr(1);\n    const result = hash.split(\"&\").reduce((result, item) => {\n      let parts = item.split(\"=\");\n      result[parts[0]] = parts[1];\n      return result;\n    }, {});\n    if (result.token) {\n      localStorage.setItem(\"authToken\", result.token);\n      navigate(\"/\"); // token 已经保存，重定向到首页\n    } else {\n      // 处理没有接收到 token 的情况\n      console.error(\"No token received\");\n      navigate(\"/login\"); // 重定向到登录页面或错误页面\n    }\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Redirecting...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this) // 您可以在这里放置加载指示器或重定向消息\n  ;\n};\n_s(LoginSuccessComponent, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginSuccessComponent;\nexport default LoginSuccessComponent;\nvar _c;\n$RefreshReg$(_c, \"LoginSuccessComponent\");","map":{"version":3,"names":["React","useEffect","useNavigate","jsxDEV","_jsxDEV","LoginSuccessComponent","_s","navigate","hash","window","location","substr","result","split","reduce","item","parts","token","localStorage","setItem","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/wangbaiyuan/Documents/Wehelp/Part3/Vcard/client/src/components/login-success-component.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst LoginSuccessComponent = () => {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const hash = window.location.hash.substr(1);\n    const result = hash.split(\"&\").reduce((result, item) => {\n      let parts = item.split(\"=\");\n      result[parts[0]] = parts[1];\n      return result;\n    }, {});\n\n    if (result.token) {\n      localStorage.setItem(\"authToken\", result.token);\n      navigate(\"/\"); // token 已经保存，重定向到首页\n    } else {\n      // 处理没有接收到 token 的情况\n      console.error(\"No token received\");\n      \n      navigate(\"/login\"); // 重定向到登录页面或错误页面\n    }\n  }, [navigate]);\n\n  return (\n    <div>Redirecting...</div> // 您可以在这里放置加载指示器或重定向消息\n  );\n}\n\nexport default LoginSuccessComponent;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd,MAAMO,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI,CAACG,MAAM,CAAC,CAAC,CAAC;IAC3C,MAAMC,MAAM,GAAGJ,IAAI,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,CAACF,MAAM,EAAEG,IAAI,KAAK;MACtD,IAAIC,KAAK,GAAGD,IAAI,CAACF,KAAK,CAAC,GAAG,CAAC;MAC3BD,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC;MAC3B,OAAOJ,MAAM;IACf,CAAC,EAAE,CAAC,CAAC,CAAC;IAEN,IAAIA,MAAM,CAACK,KAAK,EAAE;MAChBC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEP,MAAM,CAACK,KAAK,CAAC;MAC/CV,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;IACjB,CAAC,MAAM;MACL;MACAa,OAAO,CAACC,KAAK,CAAC,mBAAmB,CAAC;MAElCd,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;IACtB;EACF,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,oBACEH,OAAA;IAAAkB,QAAA,EAAK;EAAc;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC,CAAC;EAAA;AAE9B,CAAC;AAAApB,EAAA,CAzBKD,qBAAqB;EAAA,QACRH,WAAW;AAAA;AAAAyB,EAAA,GADxBtB,qBAAqB;AA2B3B,eAAeA,qBAAqB;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}